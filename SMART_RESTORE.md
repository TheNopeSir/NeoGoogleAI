# üîÑ –£–º–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

## –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ –ë–î –∏–∑ SQL –¥–∞–º–ø–∞ —Å base64 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ –≤–æ–∑–Ω–∏–∫–∞–ª–∞ –ø—Ä–æ–±–ª–µ–º–∞:

1. ‚úÖ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –≤ WebP –∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –Ω–∞ –¥–∏—Å–∫
2. ‚úÖ –í –ë–î —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ø—É—Ç–∏ –∫ WebP —Ñ–∞–π–ª–∞–º
3. ‚ùå –ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ –∏–∑ SQL –¥–∞–º–ø–∞, base64 –¥–∞–Ω–Ω—ã–µ **–ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—é—Ç** WebP –ø—É—Ç–∏
4. ‚ùå –§–∏–∑–∏—á–µ—Å–∫–∏–µ WebP —Ñ–∞–π–ª—ã –æ—Å—Ç–∞—é—Ç—Å—è –Ω–∞ –¥–∏—Å–∫–µ, –Ω–æ –ë–î —Ç–µ—Ä—è–µ—Ç —Å—Å—ã–ª–∫–∏ –Ω–∞ –Ω–∏—Ö
5. üîÑ –ü—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –∑–∞–Ω–æ–≤–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é, —Å–æ–∑–¥–∞–≤–∞—è –¥—É–±–ª–∏–∫–∞—Ç—ã —Ñ–∞–π–ª–æ–≤

## –†–µ—à–µ–Ω–∏–µ: –£–º–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ

–ù–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥ **smartRestoreImages** —Ä–µ—à–∞–µ—Ç —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É:

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–í—ã—á–∏—Å–ª–µ–Ω–∏–µ —Ö–µ—à–∞**: –î–ª—è –∫–∞–∂–¥–æ–≥–æ base64 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è SHA256 —Ö–µ—à
2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∏—Å–∫–∞**: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ WebP —Ñ–∞–π–ª–æ–≤ —Å —Ç–∞–∫–∏–º —Ö–µ—à–µ–º
3. **–£–º–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ**:
   - –ï—Å–ª–∏ —Ñ–∞–π–ª—ã **—Å—É—â–µ—Å—Ç–≤—É—é—Ç** ‚Üí –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø—É—Ç–∏ (–º–≥–Ω–æ–≤–µ–Ω–Ω–æ!)
   - –ï—Å–ª–∏ —Ñ–∞–π–ª–æ–≤ **–Ω–µ—Ç** ‚Üí —Å–æ–∑–¥–∞—é—Ç—Å—è –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã
4. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ë–î**: –ü—É—Ç–∏ –∫ WebP —Ñ–∞–π–ª–∞–º —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

‚úÖ **–ë—ã—Å—Ç—Ä–µ–µ**: –ù–µ –Ω—É–∂–Ω–æ –∑–∞–Ω–æ–≤–æ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
‚úÖ **–≠–∫–æ–Ω–æ–º–∏—Ç –º–µ—Å—Ç–æ**: –ù–µ —Å–æ–∑–¥–∞–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã —Ñ–∞–π–ª–æ–≤
‚úÖ **–ù–∞–¥–µ–∂–Ω–µ–µ**: –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ WebP —Ñ–∞–π–ª—ã
‚úÖ **–£–º–Ω–µ–µ**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, —á—Ç–æ –Ω—É–∂–Ω–æ –¥–µ–ª–∞—Ç—å

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É

```bash
# 1. –ê–Ω–∞–ª–∏–∑ (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É, –Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ)
node smartRestoreImages.js

# 2. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —É–º–Ω–æ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
node smartRestoreImages.js --execute

# 3. –° –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º (–¥–ª—è –±–æ–ª—å—à–∏—Ö –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö)
node smartRestoreImages.js --execute --limit=100
```

### –ß–µ—Ä–µ–∑ API (–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å)

```bash
# –ó–∞–ø—Ä–æ—Å –∫ API
curl -X POST http://localhost:3001/api/admin/smart-restore-images
```

**–ò–ª–∏ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
2. –†–∞–∑–¥–µ–ª "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏"
3. –ö–Ω–æ–ø–∫–∞ "–£–º–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π"

## –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞

### –†–µ–∂–∏–º –∞–Ω–∞–ª–∏–∑–∞

```
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   SMART IMAGE RESTORE - –ê–ù–ê–õ–ò–ó
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ

üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:
   –í—Å–µ–≥–æ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤: 1000
   –° –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏: 850
   –ë–µ–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π: 150

   ‚úÖ –£–∂–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã: 650
   üîÑ –¢—Ä–µ–±—É—é—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ (base64): 200

üí° –≠—Ç–∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –±—É–¥—É—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã:
   ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è WebP —Ñ–∞–π–ª–æ–≤ –Ω–∞ –¥–∏—Å–∫–µ
   ‚Ä¢ –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ–∞–π–ª–æ–≤
   ‚Ä¢ –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ

üìã –î–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —É–º–Ω–æ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞–ø—É—Å—Ç–∏—Ç–µ:
   node smartRestoreImages.js --execute
```

### –†–µ–∂–∏–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

```
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   SMART IMAGE RESTORE - –í–´–ü–û–õ–ù–ï–ù–ò–ï
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ

[1/200] –û–±—Ä–∞–±–æ—Ç–∫–∞ exhibit-123 (3 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π)...
[ImageProcessor] Smart restoring image for exhibit exhibit-123...
[ImageProcessor] Found existing WebP files for exhibit-123/a1b2c3d4e5f6g7h8, reusing them
   ‚úÖ –û–±—Ä–∞–±–æ—Ç–∞–Ω–æ: 3 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

[2/200] –û–±—Ä–∞–±–æ—Ç–∫–∞ exhibit-456 (2 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π)...
[ImageProcessor] WebP files not found for exhibit-456/f7e6d5c4b3a2, creating new ones
   ‚úÖ –û–±—Ä–∞–±–æ—Ç–∞–Ω–æ: 2 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

...

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   –†–ï–ó–£–õ–¨–¢–ê–¢–´
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

‚úÖ –û–±—Ä–∞–±–æ—Ç–∞–Ω–æ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤: 200
‚è≠Ô∏è  –ü—Ä–æ–ø—É—â–µ–Ω–æ: 800

‚ú® –£–º–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!

üí° –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —É–º–Ω–æ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è:
   ‚Ä¢ –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ WebP —Ñ–∞–π–ª—ã –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã
   ‚Ä¢ –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã —Å–æ–∑–¥–∞–Ω—ã —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
   ‚Ä¢ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∞ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø—É—Ç—è–º–∏
   ‚Ä¢ –ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
```

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –æ–±—ã—á–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–µ–π

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | –û–±—ã—á–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è | –£–º–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ |
|----------------|------------------|----------------------|
| –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∏—Å–∫–∞ | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ |
| –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ |
| –°–∫–æ—Ä–æ—Å—Ç—å | üêå –ú–µ–¥–ª–µ–Ω–Ω–æ | ‚ö° –ë—ã—Å—Ç—Ä–æ |
| –î—É–±–ª–∏–∫–∞—Ç—ã —Ñ–∞–π–ª–æ–≤ | ‚ö†Ô∏è –°–æ–∑–¥–∞–µ—Ç | ‚úÖ –ò–∑–±–µ–≥–∞–µ—Ç |
| –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ | `migrateImages.js` | `smartRestoreImages.js` |

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –§—É–Ω–∫—Ü–∏–∏ –≤ imageProcessor.js

```javascript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è WebP —Ñ–∞–π–ª–æ–≤
checkWebPFilesExist(exhibitId, hash) ‚Üí boolean

// –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—É—Ç–µ–π –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º —Ñ–∞–π–ª–∞–º
getWebPPaths(exhibitId, hash) ‚Üí { thumbnail, medium, large, placeholder }

// –£–º–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
smartRestoreImage(base64DataUri, exhibitId) ‚Üí { thumbnail, medium, large, placeholder }

// –£–º–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º–∞—Å—Å–∏–≤–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
smartRestoreImages(imageUrls, exhibitId) ‚Üí Array<ImagePaths>
```

### –§–æ—Ä–º–∞—Ç —Ö—Ä–∞–Ω–µ–Ω–∏—è

**Base64 –≤ –ë–î (legacy):**
```json
{
  "imageUrls": [
    "data:image/jpeg;base64,/9j/4AAQSkZJRg..."
  ]
}
```

**WebP –ø—É—Ç–∏ –≤ –ë–î (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π):**
```json
{
  "imageUrls": [
    {
      "thumbnail": "/api/images/exhibit-123/a1b2c3d4_thumbnail.webp",
      "medium": "/api/images/exhibit-123/a1b2c3d4_medium.webp",
      "large": "/api/images/exhibit-123/a1b2c3d4_large.webp",
      "placeholder": "/api/images/exhibit-123/a1b2c3d4_placeholder.webp"
    }
  ]
}
```

**–§–∏–∑–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã –Ω–∞ –¥–∏—Å–∫–µ:**
```
/uploads/images/
  ‚îî‚îÄ‚îÄ exhibit-123/
      ‚îú‚îÄ‚îÄ a1b2c3d4_thumbnail.webp     (240x240, q45)
      ‚îú‚îÄ‚îÄ a1b2c3d4_medium.webp        (800x800, q70)
      ‚îú‚îÄ‚îÄ a1b2c3d4_large.webp         (1200x1200, q80)
      ‚îî‚îÄ‚îÄ a1b2c3d4_placeholder.webp   (20x20, q20, blur)
```

## Workflow –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ë–î

### –°—Ç–∞—Ä—ã–π –ø–æ–¥—Ö–æ–¥ (–ø—Ä–æ–±–ª–µ–º–Ω—ã–π)

```bash
1. ./importSQL.sh backup.sql --execute    # –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ë–î —Å base64
2. node migrateImages.js --execute        # –°–æ–∑–¥–∞–µ—Ç WebP —Ñ–∞–π–ª—ã
   ‚Üí –ß–µ—Ä–µ–∑ –≤—Ä–µ–º—è —Å–Ω–æ–≤–∞ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç–µ –ë–î
3. ./importSQL.sh backup.sql --execute    # ‚ùå –ü–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç WebP –ø—É—Ç–∏ –Ω–∞ base64
4. node migrateImages.js --execute        # ‚ùå –°–æ–∑–¥–∞–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã —Ñ–∞–π–ª–æ–≤
```

### –ù–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥ (—É–º–Ω—ã–π)

```bash
1. ./importSQL.sh backup.sql --execute    # –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ë–î —Å base64
2. node smartRestoreImages.js --execute   # –£–º–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
   ‚Üí –ß–µ—Ä–µ–∑ –≤—Ä–µ–º—è —Å–Ω–æ–≤–∞ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç–µ –ë–î
3. ./importSQL.sh backup.sql --execute    # –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ë–î —Å base64
4. node smartRestoreImages.js --execute   # ‚úÖ –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ–∞–π–ª—ã!
```

## Troubleshooting

### –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env —Ñ–∞–π–ª
cat .env

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ë–î
PGPASSWORD='your-password' psql -h your-host -U your-user -d your-db -c "SELECT 1;"
```

### –°–∫—Ä–∏–ø—Ç –∑–∞–≤–∏—Å–∞–µ—Ç

–í–æ–∑–º–æ–∂–Ω–æ, –±–æ–ª—å—à–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª–∏–º–∏—Ç:

```bash
node smartRestoreImages.js --execute --limit=50
```

### –ù–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏

–°–∫—Ä–∏–ø—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø–æ–¥–æ–∂–¥–∏—Ç–µ. –î–ª—è –±–æ–ª—å—à–∏—Ö –ë–î –ø—Ä–æ—Ü–µ—Å—Å –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –≤—Ä–µ–º—è.

## –°–º. —Ç–∞–∫–∂–µ

- [RESTORE_FROM_SQL.md](./RESTORE_FROM_SQL.md) - –ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—é –ë–î
- [imageProcessor.js](./imageProcessor.js) - –ú–æ–¥—É–ª—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- [adminAPI.js](./adminAPI.js) - API endpoints –¥–ª—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
